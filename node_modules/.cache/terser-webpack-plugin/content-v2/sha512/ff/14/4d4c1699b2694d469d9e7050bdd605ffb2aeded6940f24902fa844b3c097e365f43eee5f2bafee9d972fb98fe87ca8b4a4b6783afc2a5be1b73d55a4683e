{"code":"(this[\"webpackJsonpsample-app\"]=this[\"webpackJsonpsample-app\"]||[]).push([[0],{25:function(e,t,n){},33:function(e,t,n){\"use strict\";n.r(t);var c=n(0),o=n.n(c),s=n(17),r=n.n(s),i=(n(25),n(11)),j=n(7),a=n(20),u=n(2),b=n(10),l=n(18),h=Object(l.createAuthProvider)({accessTokenKey:\"access-token\",onUpdateToken:function(e){return fetch(\"/api/refresh\",{method:\"POST\",body:e.access_token}).then((function(e){return e.json()}))}}),O=Object(j.a)(h,4),d=O[0],p=O[1],f=O[2],x=O[3],g=n(1),m=[\"component\"],v=function(e){var t=e.component,n=Object(a.a)(e,m),c=d(),o=Object(j.a)(c,1)[0];return Object(g.jsx)(u.b,Object(i.a)(Object(i.a)({},n),{},{render:function(e){return o?Object(g.jsx)(t,Object(i.a)({},e)):Object(g.jsx)(u.a,{to:\"/login\"})}}))};function y(){return Object(g.jsx)(b.a,{children:Object(g.jsxs)(\"div\",{children:[Object(g.jsx)(\"nav\",{children:Object(g.jsxs)(\"ul\",{children:[Object(g.jsx)(\"li\",{children:Object(g.jsx)(b.b,{to:\"/\",children:\"Home\"})}),Object(g.jsx)(\"li\",{children:Object(g.jsx)(b.b,{to:\"/login\",children:\"Login\"})}),Object(g.jsx)(\"li\",{children:Object(g.jsx)(b.b,{to:\"/secret\",children:\"Secret\"})})]})}),Object(g.jsxs)(u.d,{children:[Object(g.jsx)(u.b,{path:\"/login\",children:Object(g.jsx)(k,{})}),Object(g.jsx)(v,{path:\"/secret\",component:w}),Object(g.jsx)(u.b,{path:\"/\",children:Object(g.jsx)(S,{})})]})]})})}function S(){return Object(c.useEffect)((function(){fetch(\"/api\").then((function(e){return e.json()})).then((function(e){return console.log(e)}))}),[]),Object(g.jsx)(\"h2\",{children:\"Home\"})}function k(){var e=Object(c.useState)(\"\"),t=Object(j.a)(e,2),n=t[0],o=t[1],s=Object(c.useState)(\"\"),r=Object(j.a)(s,2),i=r[0],a=r[1],u=d(),b=Object(j.a)(u,1)[0];return Object(g.jsxs)(\"div\",{children:[Object(g.jsx)(\"h2\",{children:\"Login\"}),b?Object(g.jsx)(\"button\",{onClick:function(){return x()},children:\"Logout\"}):Object(g.jsxs)(\"form\",{action:\"#\",children:[Object(g.jsx)(\"div\",{children:Object(g.jsx)(\"input\",{type:\"text\",placeholder:\"Username\",onChange:function(e){o(e.target.value)},value:n})}),Object(g.jsx)(\"div\",{children:Object(g.jsx)(\"input\",{type:\"password\",placeholder:\"Password\",onChange:function(e){a(e.target.value)},value:i})}),Object(g.jsx)(\"button\",{onClick:function(e){e.preventDefault(),console.log(\"You pressed login\");var t={username:n,password:i};console.log(t),fetch(\"/api/login\",{method:\"post\",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){e.access_token?(f(e),console.log(e)):console.log(\"Please type in correct username/password\")}))},type:\"submit\",children:\"Login Now\"})]})]})}function w(){var e=Object(c.useState)(\"\"),t=Object(j.a)(e,2),n=t[0],o=t[1];return Object(c.useEffect)((function(){p(\"/api/protected\").then((function(e){return 401===e.status?(o(\"Sorry you aren't authorized!\"),null):e.json()})).then((function(e){e&&e.message&&o(e.message)}))}),[]),Object(g.jsxs)(\"h2\",{children:[\"Secret: \",n]})}var C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),o(e),s(e),r(e)}))};r.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(y,{})}),document.getElementById(\"root\")),C()}},[[33,1,2]]]);","name":"static/js/main.dcc6c013.chunk.js","map":{"version":3,"sources":["static/js/main.dcc6c013.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","slicedToArray","objectWithoutProperties","react_router","react_router_dom","lib","_createAuthProvider","Object","accessTokenKey","onUpdateToken","token","fetch","method","body","access_token","then","json","_createAuthProvider2","useAuth","authFetch","login","logout","jsx_runtime","_excluded","App_PrivateRoute","_ref","Component","component","rest","_useAuth","logged","render","props","to","App","children","path","Login","Secret","Home","resp","console","log","_useState","_useState2","username","setUsername","_useState3","_useState4","password","setPassword","_useAuth3","onClick","action","type","placeholder","onChange","e","target","value","preventDefault","opts","JSON","stringify","_useState5","_useState6","message","setMessage","response","status","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","a","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpsample-app\"] = this[\"webpackJsonpsample-app\"] || []).push([[0],{\n\n/***/ 25:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(17);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/react-token-auth/lib/index.js\nvar lib = __webpack_require__(18);\n\n// CONCATENATED MODULE: ./src/auth/index.js\nvar _createAuthProvider=Object(lib[\"createAuthProvider\"])({accessTokenKey:'access-token',onUpdateToken:function onUpdateToken(token){return fetch('/api/refresh',{method:'POST',body:token.access_token}).then(function(r){return r.json();});}}),_createAuthProvider2=Object(slicedToArray[\"a\" /* default */])(_createAuthProvider,4),useAuth=_createAuthProvider2[0],authFetch=_createAuthProvider2[1],login=_createAuthProvider2[2],logout=_createAuthProvider2[3];\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/App.js\nvar _excluded=[\"component\"];var App_PrivateRoute=function PrivateRoute(_ref){var Component=_ref.component,rest=Object(objectWithoutProperties[\"a\" /* default */])(_ref,_excluded);var _useAuth=useAuth(),_useAuth2=Object(slicedToArray[\"a\" /* default */])(_useAuth,1),logged=_useAuth2[0];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},rest),{},{render:function render(props){return logged?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Component,Object(objectSpread2[\"a\" /* default */])({},props)):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/login\"});}}));};function App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"nav\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:\"Home\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/login\",children:\"Login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/secret\",children:\"Secret\"})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/login\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Login,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_PrivateRoute,{path:\"/secret\",component:Secret}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Home,{})})]})]})});}function Home(){Object(react[\"useEffect\"])(function(){fetch(\"/api\").then(function(resp){return resp.json();}).then(function(resp){return console.log(resp);});},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Home\"});}function Login(){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var onSubmitClick=function onSubmitClick(e){e.preventDefault();console.log(\"You pressed login\");var opts={'username':username,'password':password};console.log(opts);fetch('/api/login',{method:'post',body:JSON.stringify(opts)}).then(function(r){return r.json();}).then(function(token){if(token.access_token){login(token);console.log(token);}else{console.log(\"Please type in correct username/password\");}});};var handleUsernameChange=function handleUsernameChange(e){setUsername(e.target.value);};var handlePasswordChange=function handlePasswordChange(e){setPassword(e.target.value);};var _useAuth3=useAuth(),_useAuth4=Object(slicedToArray[\"a\" /* default */])(_useAuth3,1),logged=_useAuth4[0];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Login\"}),!logged?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{action:\"#\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Username\",onChange:handleUsernameChange,value:username})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",placeholder:\"Password\",onChange:handlePasswordChange,value:password})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:onSubmitClick,type:\"submit\",children:\"Login Now\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return logout();},children:\"Logout\"})]});}function Secret(){var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),message=_useState6[0],setMessage=_useState6[1];Object(react[\"useEffect\"])(function(){authFetch(\"/api/protected\").then(function(response){if(response.status===401){setMessage(\"Sorry you aren't authorized!\");return null;}return response.json();}).then(function(response){if(response&&response.message){setMessage(response.message);}});},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[\"Secret: \",message]});}\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 34)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[33,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/jagannathan/Excellence/sample-app/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/jagannathan/Excellence/sample-app/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/jagannathan/Excellence/sample-app/node_modules/postcss-loader/src/index.js??postcss!/Users/jagannathan/Excellence/sample-app/src/index.css","/Users/jagannathan/Excellence/sample-app/src/auth/index.js","/Users/jagannathan/Excellence/sample-app/src/App.js","/Users/jagannathan/Excellence/sample-app/src/reportWebVitals.js","/Users/jagannathan/Excellence/sample-app/src/index.js"],"names":["createAuthProvider","accessTokenKey","onUpdateToken","token","fetch","method","body","access_token","then","r","json","useAuth","authFetch","login","logout","PrivateRoute","Component","component","rest","logged","props","App","Secret","Home","useEffect","resp","console","log","Login","useState","username","setUsername","password","setPassword","onSubmitClick","e","preventDefault","opts","JSON","stringify","handleUsernameChange","target","value","handlePasswordChange","message","setMessage","response","status","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import { createAuthProvider } from \"react-token-auth\";\n\nexport const [useAuth, authFetch, login, logout] = \n    createAuthProvider({\n        accessTokenKey:'access-token',\n        onUpdateToken:(token) => fetch('/api/refresh', {\n            method: 'POST',\n            body: token.access_token\n        })\n        .then(r => r.json())\n    });","import React, { useState,useEffect } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect\n} from \"react-router-dom\";\nimport { login, useAuth, authFetch, logout } from \"./auth\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  const [logged] = useAuth();\n\n  return <Route {...rest} render={(props) => (\n    logged\n      ? <Component {...props} />\n      : <Redirect to='/login' />\n  )} />\n}\n\nexport default function App() {\n  return (\n    <Router>\n      <div>\n        <nav>\n          <ul>\n            <li>\n              <Link to=\"/\">Home</Link>\n            </li>\n            <li>\n              <Link to=\"/login\">Login</Link>\n            </li>\n            <li>\n              <Link to=\"/secret\">Secret</Link>\n            </li>\n          </ul>\n        </nav>\n\n        {/* A <Switch> looks through its children <Route>s and\n            renders the first one that matches the current URL. */}\n        <Switch>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <PrivateRoute path=\"/secret\" component={Secret} />\n          <Route path=\"/\">\n            <Home />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nfunction Home() {\n  useEffect(() => {\n    fetch(\"/api\").then(resp => resp.json()).then(resp => console.log(resp))\n  }, [])\n  return <h2>Home</h2>;\n}\n\nfunction Login() {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  const onSubmitClick = (e)=>{\n    e.preventDefault()\n    console.log(\"You pressed login\")\n    let opts = {\n      'username': username,\n      'password': password\n    }\n    console.log(opts)\n    fetch('/api/login', {\n      method: 'post',\n      body: JSON.stringify(opts)\n    }).then(r => r.json())\n      .then(token => {\n        if (token.access_token){\n          login(token)\n          console.log(token)          \n        }\n        else {\n          console.log(\"Please type in correct username/password\")\n        }\n      })\n  }\n\n  const handleUsernameChange = (e) => {\n    setUsername(e.target.value)\n  }\n\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value)\n  }\n  const [logged] = useAuth();\n\nreturn (\n  <div>\n    <h2>Login</h2>\n    {!logged? <form action=\"#\">\n      <div>\n        <input type=\"text\" \n          placeholder=\"Username\" \n          onChange={handleUsernameChange}\n          value={username} \n        />\n      </div>\n      <div>\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          onChange={handlePasswordChange}\n          value={password}\n        />\n      </div>\n      <button onClick={onSubmitClick} type=\"submit\">\n        Login Now\n      </button>\n    </form>\n    : <button onClick={() => logout()}>Logout</button>}\n  </div>\n)\n}\n\nfunction Secret() {\n  const [message, setMessage] = useState('')\n\n  useEffect(() => {\n    authFetch(\"/api/protected\").then(response => {\n      if (response.status === 401){\n        setMessage(\"Sorry you aren't authorized!\")\n        return null\n      }\n      return response.json()\n    }).then(response => {\n      if (response && response.message){\n        setMessage(response.message)\n      }\n    })\n  }, [])\n  return (\n    <h2>Secret: {message}</h2>\n  )\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}