(this["webpackJsonpsample-app"]=this["webpackJsonpsample-app"]||[]).push([[0],{25:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),s=n(17),r=n.n(s),i=(n(25),n(11)),j=n(7),a=n(20),u=n(2),b=n(10),l=n(18),h=Object(l.createAuthProvider)({accessTokenKey:"access-token",onUpdateToken:function(e){return fetch("/api/refresh",{method:"POST",body:e.access_token}).then((function(e){return e.json()}))}}),O=Object(j.a)(h,4),d=O[0],p=O[1],f=O[2],x=O[3],g=n(1),m=["component"],v=function(e){var t=e.component,n=Object(a.a)(e,m),c=d(),o=Object(j.a)(c,1)[0];return Object(g.jsx)(u.b,Object(i.a)(Object(i.a)({},n),{},{render:function(e){return o?Object(g.jsx)(t,Object(i.a)({},e)):Object(g.jsx)(u.a,{to:"/login"})}}))};function y(){return Object(g.jsx)(b.a,{children:Object(g.jsxs)("div",{children:[Object(g.jsx)("nav",{children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:Object(g.jsx)(b.b,{to:"/",children:"Home"})}),Object(g.jsx)("li",{children:Object(g.jsx)(b.b,{to:"/login",children:"Login"})}),Object(g.jsx)("li",{children:Object(g.jsx)(b.b,{to:"/secret",children:"Secret"})})]})}),Object(g.jsxs)(u.d,{children:[Object(g.jsx)(u.b,{path:"/login",children:Object(g.jsx)(k,{})}),Object(g.jsx)(v,{path:"/secret",component:w}),Object(g.jsx)(u.b,{path:"/",children:Object(g.jsx)(S,{})})]})]})})}function S(){return Object(c.useEffect)((function(){fetch("/api").then((function(e){return e.json()})).then((function(e){return console.log(e)}))}),[]),Object(g.jsx)("h2",{children:"Home"})}function k(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],o=t[1],s=Object(c.useState)(""),r=Object(j.a)(s,2),i=r[0],a=r[1],u=d(),b=Object(j.a)(u,1)[0];return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Login"}),b?Object(g.jsx)("button",{onClick:function(){return x()},children:"Logout"}):Object(g.jsxs)("form",{action:"#",children:[Object(g.jsx)("div",{children:Object(g.jsx)("input",{type:"text",placeholder:"Username",onChange:function(e){o(e.target.value)},value:n})}),Object(g.jsx)("div",{children:Object(g.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){a(e.target.value)},value:i})}),Object(g.jsx)("button",{onClick:function(e){e.preventDefault(),console.log("You pressed login");var t={username:n,password:i};console.log(t),fetch("/api/login",{method:"post",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){e.access_token?(f(e),console.log(e)):console.log("Please type in correct username/password")}))},type:"submit",children:"Login Now"})]})]})}function w(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],o=t[1];return Object(c.useEffect)((function(){p("/api/protected").then((function(e){return 401===e.status?(o("Sorry you aren't authorized!"),null):e.json()})).then((function(e){e&&e.message&&o(e.message)}))}),[]),Object(g.jsxs)("h2",{children:["Secret: ",n]})}var C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),o(e),s(e),r(e)}))};r.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(y,{})}),document.getElementById("root")),C()}},[[33,1,2]]]);
//# sourceMappingURL=main.dcc6c013.chunk.js.map